<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    
    <link rel="canonical" href="/posts/python_practice/">
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.118.2">

    
    
    

<title>Python å·¥ç¨‹åŒ–å®è·µ â€¢ Chang Luo</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python å·¥ç¨‹åŒ–å®è·µ"/>
<meta name="twitter:description" content="å­¦ Python ä¸åº”ä»…é™äºå­¦ç¼–ç¨‹ï¼ŒåŒæ ·åº”è¯¥å­¦ä¹ å·¥ç¨‹çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒã€ç¼–ç é£æ ¼ä»¥åŠå•å…ƒæµ‹è¯•ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚"/>

<meta property="og:title" content="Python å·¥ç¨‹åŒ–å®è·µ" />
<meta property="og:description" content="å­¦ Python ä¸åº”ä»…é™äºå­¦ç¼–ç¨‹ï¼ŒåŒæ ·åº”è¯¥å­¦ä¹ å·¥ç¨‹çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒã€ç¼–ç é£æ ¼ä»¥åŠå•å…ƒæµ‹è¯•ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/python_practice/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-14T00:00:00+00:00" /><meta property="og:site_name" content="Title" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.3081c4981fb69a2783dd36ecfdd0e6ba7a158d4cbfdd290ebce8f78ba0469fc6.css" integrity="sha256-MIHEmB&#43;2mieD3Tbs/dDmunoVjUy/3SkOvOj3i6BGn8Y=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="/scss/tocbot.5ef07cebc3c477b54270456f149ee02922479bb7555fd344b2c69f953b0e7e5e.css" integrity="sha256-XvB868PEd7VCcEVvFJ7gKSJHm7dVX9NEssaflTsOfl4=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://upcdn.b0.upaiyun.com/libs/jquery/jquery-1.9.0.min.js"></script>

  <style>
    body {
      transition: background-color .5s;
    }

    #overlay {
      position: fixed;
      display: none;
      width: calc(100vw - 580px);
      height: 100%;
      top: 0;
      left: 0;
       
      z-index: 2;
      cursor: pointer;
    }

    .sidenav {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1000;
      top: 0;
      right: 0;
      background-color: #FFF;
       
      overflow-x: hidden;
      transition: 0.5s;
       
       
    }

    #main {
      transition: margin-left .5s;
       
      padding: 16px;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      overflow: hidden;
    }

     
    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
    }

     
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }

     
    .tab button:hover {
      background-color: #ddd;
    }

     
    .tab button.active {
      background-color: #ccc;
    }

     
    .tabcontent {
      display: none;
      padding: 12px 12px;
      margin: 0;
      border: 1px solid #ccc;
      border-top: none;
    }

    .dropbtn {
      background-color: #3498DB;
      color: white;
      padding: 16px;
      font-size: 16px;
      border: none;
    }

    .dropup {
      position: relative;
      display: inline-block;
    }

    .dropup-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      bottom: 50px;
      z-index: 1;
    }

    .dropup-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .dropup-content a:hover {
      background-color: #ccc
    }

    .dropup:hover .dropup-content {
      display: block;
    }

    .dropup:hover .dropbtn {
      background-color: #2980B9;
    }

    #video2,
    #video3 {
      display: none;
    }
  </style>

</head>

<body>

  
  <div class="sidebar">
    <div class="container ">
      <div class="sidebar-about">
        <span class="site__title">
          <a href="/">Chang Luo</a>
        </span>
        
        
        
        <div class="author-image">
          <a href="#" class="load-iframe" onclick="openNav()"><img src="//images/profile.webp" id="author-iamge"
              alt="Author Image" class="img--circle img--headshot element--center"></a>
        </div>
        
        <p class="site__description">
          
        </p>
      </div>
      <div class="collapsible-menu">
        <input type="checkbox" id="menuToggle">
        <label for="menuToggle">Chang Luo</label>
        <div class="menu-content">
          <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio/">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		
	</ul>
</div>

          <section class="social">
	
	<a href="https://twitter.com/MinosPalace" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/luochang212" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://instagram.com/suphenshin" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/bupt-luochang" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

        </div>
      </div>
      
<div class="copyright">
  &copy; 2024 Chang Luo
  
</div>



    </div>
  </div>

  
  

  <div id="overlay" onclick="off()"></div>

  <div id="mySidenav" class="sidenav">

    <div id="main">
      <div class="tab">
        <button id="default-tab" class="tablinks" onclick="openItem(event, 'Resources')">Resources</button>
        <button class="tablinks" onclick="openItem(event, 'netease-player')">Music</button>
        <button class="tablinks" onclick="openItem(event, 'video-player')">Video</button>
        <button class="tablinks" onclick="openItem(event, 'gallery')">Gallery</button>
        <button class="tablinks" onclick="openItem(event, 'gadget')">Gadget</button>
        <button class="tablinks" onclick="openItem(event, 'categories')">Cats</button>
      </div>

      <div id="Resources" class="tabcontent">
        <iframe src="about:blank" data-src="/resources/" frameborder="0" height="560" width="100%" marginheight="0"
          marginwidth="0" scrolling="yes"></iframe>
      </div>

      <div id="netease-player" class="tabcontent">
        <iframe src="about:blank" data-src="//music.163.com/outchain/player?type=0&id=2250585392&auto=0&height=430"
          frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=450></iframe>
      </div>

      <div id="video-player" class="tabcontent">

        <div id="video1">
          <iframe src="about:blank"
            data-src="//player.bilibili.com/player.html?aid=663375832&bvid=BV11a4y1S7Pt&cid=1334196946&p=1&high_quality=1&danmaku=0&autoplay=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>
        <div id="video2">
          <iframe src="about:blank"
            data-src="//player.bilibili.com/player.html?aid=958254107&bvid=BV1rp4y1L7i4&cid=1264513494&p=1&high_quality=1&danmaku=0&autoplay=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>
        <div id="video3">
          <iframe src="about:blank"
            data-src="//player.bilibili.com/player.html?aid=566507193&bvid=BV1Av4y147QE&cid=997936232&p=1&high_quality=1&danmaku=0&autoplay=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>

        

        

        <br>
        <div class="dropup">
          <button class="dropbtn">æ›´å¤šè§†é¢‘</button>
          <div class="dropup-content">
            <a onclick="link1()">å‘è´¢è´¢</a>
            <a onclick="link2()">å²å²æ‹</a>
            <a onclick="link3()">çœŸç‰©è®º</a>
          </div>
        </div>
      </div>

      <div id="gallery" class="tabcontent">
        <iframe src="about:blank" data-src="/gadget/gallery.html#two" frameborder="0" height="560" width="100%"
          scrolling="yes"></iframe>
      </div>

      <div id="gadget" class="tabcontent">
        <iframe src="about:blank" data-src="/gadget/" frameborder="0" height="560" width="100%"
          scrolling="yes"></iframe>
      </div>

      <div id="categories" class="tabcontent">
        <iframe src="about:blank" data-src="/categories/" frameborder="0" height="560" width="100%"
          scrolling="yes"></iframe>
      </div>

    </div>
  </div>

  
  <script>
    'use strict'

    function openNav() {
      on();
      document.getElementById("mySidenav").style.width = "580px";
      document.body.style.backgroundColor = "rgba(0,0,0,0.5)";
    }

    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.body.style.backgroundColor = "white";
    }

    function on() {
      document.getElementById("overlay").style.display = "block";
    }

    function off() {
      closeNav();
      document.getElementById("overlay").style.display = "none";
    }

    
    document.getElementById('default-tab').click();

    function openItem(evt, itemName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(itemName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    function link1() {
      document.getElementById("video1").style.display = "block";
      document.getElementById("video2").style.display = "none";
      document.getElementById("video3").style.display = "none";
    }

    function link2() {
      document.getElementById("video1").style.display = "none";
      document.getElementById("video2").style.display = "block";
      document.getElementById("video3").style.display = "none";
    }

    function link3() {
      document.getElementById("video1").style.display = "none";
      document.getElementById("video2").style.display = "none";
      document.getElementById("video3").style.display = "block";
    }

     
    var flag = 0;

     
    $(".load-iframe").click(function () {
      if (flag < 1) {
        $("iframe").each(function () {
          $(this).attr("src", $(this).data("src"));
        });
        flag = flag + 1;
      }
    });
  </script>

</body>



        <div class="content container">
            
    <style>
  .my-emoji {
    height: 25px;
    display: inline-block;
    margin: 0;
    vertical-align: text-bottom;
  }
</style>



<article>
  <header>
    <h1>Python å·¥ç¨‹åŒ–å®è·µ</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jun 14, 2020
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/devops">DEVOPS</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/python">python</a>
           
      
          <a class="badge badge-tag" href="/tags/practice">practice</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 7 min read
</div>


  </header>
  
  
  
  <div class="toc-wrapper">
    <input type="checkbox" id="tocToggle">
    <label for="tocToggle">ç›®å½•</label>
    
    <div class="toc" id="TableOfContents"></div>
    
  </div>
  
  
  <div class="post">
    <blockquote>
<p>å­¦ Python ä¸åº”ä»…é™äºå­¦ç¼–ç¨‹ï¼ŒåŒæ ·åº”è¯¥å­¦ä¹ å·¥ç¨‹çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒã€ç¼–ç é£æ ¼ä»¥åŠå•å…ƒæµ‹è¯•ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚</p>
</blockquote>
<p><font color="red">âš ï¸</font> æ³¨æ„ï¼šä»¥ä¸‹æ•™ç¨‹é€‚ç”¨äº MacOSã€‚</p>
<h2 id="éƒ¨ç½²ç¯å¢ƒ">éƒ¨ç½²ç¯å¢ƒ</h2>
<h3 id="1-anaconda">1. Anaconda</h3>
<p>Anaconda æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œå®ƒèƒ½è®©ä½ æ–¹ä¾¿çš„ç®¡ç† Python ç‰ˆæœ¬å’ŒåŒ…ç‰ˆæœ¬ã€‚å¹¶ä¸”ï¼Œ Anaconda èšåˆäº† Jupyter notebookï¼Œä½¿å…¶å¤§å—æ•°æ®ç§‘å­¦å®¶å’Œäººå·¥æ™ºèƒ½å·¥ç¨‹å¸ˆçš„æ¬¢è¿ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»å¦‚ä½•ç”¨ Anaconda ç®¡ç†æˆ‘ä»¬çš„ Python ç¯å¢ƒã€‚</p>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰ Anacondaï¼Œå®‰è£…ä¸€ä¸ªï¼š</p>
<ul>
<li>æµ·å¤–ç”¨æˆ·ç›´æ¥è®¿é—® <a href="https://www.anaconda.com/products/individual">Anaconda å®˜ç½‘</a> ä¸‹è½½å³å¯</li>
<li>å›½å†…ç”¨æˆ·æ— æ³•è®¿é—®Anaconda å®˜ç½‘(è¢«å¢™)ï¼Œå»ºè®®é€‰æ‹©<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/">æ¸…åé•œåƒ</a>æ›¿ä»£ã€‚</li>
</ul>
<p>å®‰è£…å®Œä»¥åï¼Œåœ¨å‘½ä»¤è¡Œç•Œé¢è¾“å…¥ <code>conda</code>ï¼Œä¼šæ‰“å°ä¸€ä¸ªå¸®åŠ©æ–‡æ¡£ã€‚</p>
<p><img src="/img/conda-command.png" alt=""></p>
<p>å¸®åŠ©æ–‡æ¡£å¤§æ¦‚æ˜¯è¯´ conda æœ‰å“ªäº›å¸¸ç”¨å‘½ä»¤ï¼Œæ¯”å¦‚ä¸‹é¢è¿™äº›ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda help  <span style="color:#75715e"># æ‰“å°å¸®åŠ©æ–‡æ¡£</span>
</span></span><span style="display:flex;"><span>$ conda info  <span style="color:#75715e"># æŸ¥çœ‹condaä¿¡æ¯ï¼ŒåŒ…æ‹¬å½“å‰åœ¨å“ªä¸ªç¯å¢ƒï¼Œç¯å¢ƒè·¯å¾„ï¼ŒPythonç‰ˆæœ¬ç­‰ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span>$ conda list  <span style="color:#75715e"># åˆ—å‡ºcondaä¸‹å®‰è£…äº†å“ªäº›åŒ…</span>
</span></span><span style="display:flex;"><span>$ conda install <span style="color:#f92672">[</span>package_name<span style="color:#f92672">]</span>  <span style="color:#75715e"># åœ¨condaç¯å¢ƒä¸­å®‰è£…æŸä¸ªåŒ…</span>
</span></span><span style="display:flex;"><span>$ conda update <span style="color:#f92672">[</span>package_name<span style="color:#f92672">]</span>  <span style="color:#75715e"># å‡çº§condaç¯å¢ƒä¸­çš„æŸä¸ªåŒ…</span>
</span></span></code></pre></div><blockquote>
<p><strong>Note</strong>ï¼šåæ–‡ä»…ä¸“æ³¨ä»‹ç»è™šæ‹Ÿç¯å¢ƒç›¸å…³å†…å®¹ï¼Œæ›´å¤šå†…å®¹è¯·åœ¨ <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Anaconda å®˜æ–¹æ–‡æ¡£</a> ä¸­æŸ¥çœ‹ã€‚</p>
</blockquote>
<p>Python ç¯å¢ƒåˆ†ä¸ºæœ¬åœ°ç¯å¢ƒ(lcoal env) å’Œå…¨å±€ç¯å¢ƒ (global env) ã€‚ä¸ºä¸€ä¸ªé¡¹ç›®é…ç½®ç¯å¢ƒï¼Œåº”è¯¥é…ç½®æœ¬åœ°ç¯å¢ƒï¼›ä¸ºæœ¬æœºæ‰€æœ‰é¡¹ç›®é…ç½®ç¯å¢ƒï¼Œåˆ™åº”è¯¥é…ç½®å…¨å±€ç¯å¢ƒã€‚</p>
<h4 id="-éƒ¨ç½²å…¨å±€ç¯å¢ƒ">â‘  éƒ¨ç½²å…¨å±€ç¯å¢ƒ</h4>
<p>ğŸ“– æ–°å»ºç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda create --name myenv
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤æ–°å»ºä¸€ä¸ªåä¸º <code>myenv</code> çš„å…¨å±€ç¯å¢ƒ.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda create -n myenv python<span style="color:#f92672">=</span>2.7
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤ç”¨äºæŒ‡å®šæ–°å»ºç¯å¢ƒçš„ Python ç‰ˆæœ¬ï¼Œæœ¬ä¾‹æŒ‡å®š Python ç‰ˆæœ¬ä¸º 2.7ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda create -n myenv python<span style="color:#f92672">=</span>2.7 <span style="color:#f92672">[</span>package1<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>package2<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>package3<span style="color:#f92672">]</span>  ...
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤æŒ‡å®šæ–°å»ºç¯å¢ƒä¸‹åˆå§‹å®‰è£…åŒ…ã€‚</p>
<p>ğŸ‘€ æŸ¥çœ‹ç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda info --envs
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤æ‰“å°æ‰€æœ‰ Python ç¯å¢ƒï¼ŒåŒ…æ‹¬å…¨å±€ç¯å¢ƒå’Œå±€åŸŸç¯å¢ƒï¼Œåœ¨å½“å‰ç¯å¢ƒå‰ä¼šæœ‰ä¸€ä¸ª <code>*</code> å·ã€‚</p>
<p>ğŸ€ æ¿€æ´»ç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda activate myenv
</span></span></code></pre></div><p>ç¯å¢ƒéœ€è¦æ¿€æ´»æ‰èƒ½ä½¿ç”¨ã€‚ä¸Šè¿°å‘½ä»¤å°†åä¸º <code>myenv</code> çš„ conda ç¯å¢ƒæ¿€æ´»ã€‚</p>
<p>âš½ï¸ é€€å‡ºç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda deactivate
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤ç”¨äºé€€å‡ºå½“å‰ conda ç¯å¢ƒã€‚åœ¨é base ç¯å¢ƒé‡Œï¼Œä¼šé€€å‡ºåˆ° base ç¯å¢ƒï¼›è€Œåœ¨ base ç¯å¢ƒé‡Œï¼Œåˆ™ä¼šé€€å‡ºåˆ°ç³»ç»Ÿç¯å¢ƒã€‚</p>
<blockquote>
<p><strong>Note</strong>: é€€åˆ°ç³»ç»Ÿç¯å¢ƒä»¥åï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>which python</code> ä¼šæ‰“å°ç³»ç»Ÿ Python çš„è·¯å¾„ã€‚å†æ¬¡è¿›å…¥ conda ç¯å¢ƒä»¥åï¼Œè¾“å…¥ <code>which python</code> åˆ™ä¼šæ‰“å° conda ä¸‹çš„ Python è·¯å¾„ã€‚</p>
<p>é‰´äºä»Šå¹´ï¼ˆ2020å¹´ï¼‰çš„ MacOS ç³»ç»Ÿä¾æ—§é»˜è®¤å®‰è£… Python2.7ï¼Œå› æ­¤å»ºè®®æŠŠ conda ä½œä¸ºé»˜è®¤è¿è¡Œç¯å¢ƒä»¥äº«å— Python3 çš„ä¾¿åˆ©ï¼</p>
</blockquote>
<p>ğŸš® ç§»é™¤ç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda env remove --name myenv
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤ç§»é™¤åä¸º <code>myenv</code> çš„å…¨å±€ç¯å¢ƒã€‚</p>
<h4 id="-éƒ¨ç½²å±€åŸŸç¯å¢ƒ">â‘¡ éƒ¨ç½²å±€åŸŸç¯å¢ƒ</h4>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¸ºæŸä¸ªé¡¹ç›®é…ç½®ç‰¹å®šçš„ Python ç‰ˆæœ¬æˆ–åŒ…ç‰ˆæœ¬ï¼Œå°±éœ€è¦æ­å»ºå±€åŸŸç¯å¢ƒ(local environment)ã€‚</p>
<p>ğŸ“– æ–°å»ºç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda create --prefix ./envs python<span style="color:#f92672">=</span>2.7
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤åœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹ï¼Œæ–°å»ºäº†ä¸€ä¸ªåä¸º <code>envs</code> çš„å­ç›®å½•ã€‚å¹¶åœ¨è¯¥å­ç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶æŒ‡å®šè¯¥ç¯å¢ƒçš„ Python ç‰ˆæœ¬ä¸º 2.7ã€‚</p>
<p>ğŸ€ æ¿€æ´»ç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda activate ./envs
</span></span></code></pre></div><p>âš½ï¸ é€€å‡ºç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda deactivate
</span></span></code></pre></div><p>â¬ å®‰è£…ä¾èµ–</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ conda install <span style="color:#f92672">[</span>package_name<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>ä¸Šè¿°å‘½ä»¤ç”¨äºä¸ºæ­¤ç¯å¢ƒå®‰è£…å„ç§åŒ…ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ pip install <span style="color:#f92672">[</span>package_name<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>æœ‰äº›åŒ… conda å®‰è£…ä¸äº†ï¼Œå¯ä»¥<a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#using-pip-in-an-environment">ä½¿ç”¨ pip å®‰è£…</a>ã€‚</p>
<blockquote>
<p><strong>Note</strong>: conda é›†æˆäº† pipï¼Œæ‰€ä»¥åœ¨ conda ç¯å¢ƒä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ pip å‘½ä»¤ã€‚åœ¨ conda ç¯å¢ƒä¸‹ï¼Œè¯•è¯• <code>pip list</code> å§ï½</p>
</blockquote>
<p>ğŸš® ç§»é™¤ç¯å¢ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -rf ./envs
</span></span></code></pre></div><p>ç§»é™¤ç¯å¢ƒåªéœ€è¦åˆ é™¤å¯¹åº”çš„å®‰è£…ç›®å½•å°±å¯ä»¥äº†ã€‚æ³¨æ„ï¼Œ<code>rm -rf</code> æ˜¯ä¸€ä¸ªæå…¶å±é™©çš„å‘½ä»¤ï¼Œä½¿ç”¨æ—¶è¯·åŠ¡å¿…å°å¿ƒã€‚</p>
<h3 id="2-virtualenv">2. Virtualenv</h3>
<blockquote>
<p><strong>Note</strong>: Virtualenv çš„å¥½å¤„åœ¨äºä½“ç§¯å°ï¼Œé€‚åˆå¼€å‘æœºä¹‹ç±»çš„ç¯å¢ƒã€‚å¦‚æœæˆ‘ä»¬åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šåšå¼€å‘ï¼Œè¿˜æ˜¯ç”¨ conda éƒ¨ç½²ç¯å¢ƒæ›´æ–¹ä¾¿ï½</p>
</blockquote>
<p>Virtualenv ç”¨äºä¸º Python é¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚</p>
<p>ä½œä¸ºä¸€é—¨åŠ¨æ€è¯­è¨€ï¼ŒPython ç¨‹åºèƒ½å¦æ­£ç¡®è¿è¡Œå’Œç¯å¢ƒé…ç½®å¯†åˆ‡ç›¸å…³ã€‚å½“æˆ‘ä»¬ä¸‹è½½å¥½ä¸€ä¸ª Python é¡¹ç›®ä»£ç ï¼Œé€šå¸¸éœ€è¦å…ˆé…ç½®ç¯å¢ƒï¼Œç„¶åæ‰èƒ½è¿è¡Œã€‚ä¸ºäº†é˜²æ­¢è¿™ä¸ªå¤–æ¥çš„ Python é¡¹ç›®æ±¡æŸ“æˆ‘ä»¬çš„å…¨å±€ç¯å¢ƒ(global environment)ï¼Œæˆ‘ä»¬åº”è¯¥ä¸ºå®ƒé…ç½®ç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚è¿™æ—¶ Virtualenv å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>
<p>åœ¨ Virtualenv åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šç‰¹å®šçš„åŒ…ç‰ˆæœ¬ç”šè‡³Pythonç‰ˆæœ¬ï¼Œè€Œä¸å½±å“å…¨å±€ç¯å¢ƒã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸º Virtualenv ä¾èµ–äºå…¨å±€ç¯å¢ƒï¼Œå› æ­¤å¦‚æœä½ æ›´æ–°äº† Python å…¨å±€ç¯å¢ƒï¼Œæœ‰å¯èƒ½å¯¹ Virtualenv é€ æˆå½±å“ã€‚</p>
<p>æ›´å¤šç»†èŠ‚å‚è§ <a href="https://docs.python.org/3/library/venv.html">Virtualenv æ–‡æ¡£</a>ã€‚</p>
<!-- > æ³¨ï¼šä»¥ä¸‹æ•™ç¨‹é€‚ç”¨äº MacOSã€‚ -->
<p>å¦‚æœä½ è¿˜æ²¡æœ‰ Virtualenvï¼Œæ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œä¸‹è½½ä¸€ä¸ªã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ pip install virtualenv
</span></span></code></pre></div><p>ğŸ“– æ–°å»ºç¯å¢ƒ</p>
<p>å®‰è£…å¥½ä¹‹åï¼Œå¦‚æœä½ æƒ³åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ virtualenv my_project  <span style="color:#75715e"># my_project å¯æ›¿æ¢ä¸ºä½ é¡¹ç›®çš„åç§°</span>
</span></span></code></pre></div><blockquote>
<p><strong>Note</strong>: å¦‚æœéœ€è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ Pythonï¼Œå¯ä½¿ç”¨ <code>-p</code> é€‰é¡¹æŒ‡å®š Python ç‰ˆæœ¬ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ virtualenv -p /usr/bin/python2.6 my_project
</span></span></code></pre></div></blockquote>
<p>ğŸ€ æ¿€æ´»ç¯å¢ƒ</p>
<p>ç”¨ <code>ls</code> å‘½ä»¤æ£€æŸ¥ï¼Œä½ å¯ä»¥å‘ç°å½“å‰ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>my_project</code> çš„æ–‡ä»¶å¤¹ã€‚ä½†è™šæ‹Ÿç¯å¢ƒä»…ä»…æ˜¯è¢«åˆ›å»ºï¼Œè¦æ¿€æ´»è¯¥ç¯å¢ƒï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ source my_project/bin/activate
</span></span></code></pre></div><p>æ¿€æ´»å®Œä»¥åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯çœ‹å½“å‰çš„ Python è·¯å¾„ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ which Python
</span></span></code></pre></div><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯æŸ¥çœ‹å½“å‰çš„ pip è·¯å¾„ã€‚å¦‚æœä½ çš„è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸäº†ï¼Œé‚£ä¹ˆè·¯å¾„åº”å½“ä¼šå˜æ›´åˆ°è™šæ‹Ÿç¯å¢ƒç›®å½•ä¸‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ which pip
</span></span></code></pre></div><p>ä½¿ç”¨å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ pip list
</span></span></code></pre></div><p>å¯æŸ¥çœ‹å½“å‰ pip å®‰è£…çš„æ‰€æœ‰åŒ…ã€‚ä½ ä¼šå‘ç°å½“å‰ç¯å¢ƒä¸‹ä»…ä»…åªå‰©å°‘æ•°å‡ ä¸ªåŒ…ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç¯å¢ƒã€‚ç°åœ¨ä½ å¯ä»¥åœ¨è¿™ä¸ªæ–°ç¯å¢ƒä¸‹é…ç½®é¡¹ç›®æ‰€éœ€çš„åŒ…ç‰ˆæœ¬äº†ï¼</p>
<p>åœ¨ä¸ºä½ çš„é¡¹ç›®å®‰è£…å®Œä¸€ç³»åˆ—åº“ä¾èµ–ä¹‹åï¼Œä½ å¯èƒ½æƒ³è®°å½•å½“å‰çš„ç¯å¢ƒé…ç½®ï¼Œä½¿ç”¨ pip çš„ freeze å‘½ä»¤å¯ä»¥å¸®ä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ pip freeze --local &gt; requirements.txt
</span></span></code></pre></div><p>è¿™å°†æŠŠå½“å‰å·²å®‰è£…çš„åŒ…å’Œå¯¹åº”åŒ…ç‰ˆæœ¬è®°å½•åœ¨å½“å‰ç›®å½•ä¸‹çš„ <code>requirements.txt</code> æ–‡ä»¶ä¸­ã€‚</p>
<blockquote>
<p><strong>Note</strong>: åœ¨å°†æ¥æ„å»ºæ–°ç¯å¢ƒæ—¶ï¼Œåªè¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥ç§»æ¤è¯¥ txt æ–‡ä»¶æŒ‡å®šçš„ç¯å¢ƒé…ç½®ã€‚</p>
<pre tabindex="0"><code>$ pip install -r requirements.txt
</code></pre></blockquote>
<p>âš½ï¸ é€€å‡ºç¯å¢ƒ</p>
<p>æœ€åï¼Œå½“ä½ æƒ³é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼Œå›åˆ°å…¨å±€ç¯å¢ƒæ—¶ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ deactivate
</span></span></code></pre></div><p>é€šè¿‡ <code>which Python</code> æˆ–è€… <code>which pip</code> æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å›åˆ°äº†å…¨å±€ç¯å¢ƒå§ï½</p>
<p>ğŸš® ç§»é™¤ç¯å¢ƒ</p>
<p>åœ¨ <code>my_project</code> æ‰€åœ¨ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -rf my_project
</span></span></code></pre></div><p>è¯·è°¨æ…ä½¿ç”¨ <code>rm -rf</code>ã€‚</p>
<h3 id="3-docker">3. Docker</h3>
<p><a href="https://www.docker.com/">Docker</a> æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>Docker æ˜¯ä¸€é¡¹è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ƒå°†è½¯ä»¶å’Œé…ç½®æ–‡ä»¶ã€ä¾èµ–åº“å°è£…åœ¨ä¸€èµ·ï¼Œæ”¾åˆ°ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº§åˆ«çš„è™šæ‹ŸåŒ–ç¯å¢ƒä¸­ã€‚è¿™ä¸ªç¯å¢ƒæˆ‘ä»¬ç§°ä½œå®¹å™¨ (container)ã€‚å®¹å™¨å’Œå®¹å™¨ä¹‹å‰æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œä½†æ˜¯ä¹Ÿèƒ½é€šè¿‡ä¼˜è‰¯å®šä¹‰çš„æ¥å£è¿›è¡Œäº¤äº’ã€‚å› ä¸ºå®¹å™¨è¿è¡Œåœ¨ä¸€ä¸ªå•ç‹¬çš„æ“ä½œç³»ç»Ÿå†…æ ¸ä¸Šï¼Œå› æ­¤å®ƒå ç”¨çš„èµ„æºæ¯”è™šæ‹Ÿæœºæ›´å°‘ã€‚</p>
<blockquote>
<p>åŸæ–‡ï¼š<strong>Docker</strong> is a set of platform as a service (PaaS) products that use OS-level virtualization to deliver software in packages called containers. Containers are isolated from one another and bundle their own software, libraries and configuration files; they can communicate with each other through well-defined channels. All containers are run by a single operating system kernel and therefore use fewer resources than virtual machines. &ndash; from wikipedia</p>
</blockquote>
<p>âœ¨ ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨ Dockerã€‚</p>
<p>1.é¦–å…ˆå»å®˜ç½‘ä¸‹è½½ <a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a>ã€‚</p>
<p>2.å®‰è£… Dockerï¼Œè£…å®Œåæ‰§è¡Œ <code>docker -v</code> ä»¥æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸã€‚</p>
<p>3.æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€å®ƒ <code>mkdir myDocker; cd myDocker</code>ã€‚</p>
<p>4.éšä¾¿åœ¨é‡Œé¢å»ºç‚¹å•¥ï¼Œæ¯”å¦‚è®¡ç®—æ•°åˆ—å…ƒç´ çš„å¹³å‡å€¼ï¼š</p>
<pre tabindex="0"><code># calc.py
# pip install numpy

import numpy as np

lst = np.array([2 ** i for i in range(5)])
print(&#39;list:&#39;, *lst)
print(&#39;mean:&#39;, np.mean(lst))
</code></pre><p>5.è®°å½•å½“å‰çš„ä¾èµ–åº“åŠå…¶ç‰ˆæœ¬ï¼Œè¾“å‡ºåˆ° <code>requirements.txt</code> æ–‡ä»¶ä¸Šã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pip freeze &gt; requirements.txt
</span></span></code></pre></div><p>6.ç„¶åï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª Dockerfileï¼Œå®ƒç›¸å½“äº Docker çš„é…ç½®æ–‡ä»¶ã€‚</p>
<pre tabindex="0"><code># Dockerfile

# Specify Python version
FROM python:3.8.5-buster

# Make a directory for our application
WORKDIR /app

# Install Dependences
COPY requirements.txt .
RUN pip install -r requirements.txt

# Copy our source code
COPY calc.py .

# Run the application
CMD [&#34;python&#34;, &#34;calc.py&#34;]
</code></pre><p>PS: Python ç‰ˆæœ¬åå¯ä»¥åœ¨ <a href="https://hub.docker.com/_/python">Docker Hub</a> ä¸­æ‰¾ã€‚</p>
<p>7.è¿è¡Œ Dokcer ä»¥åˆ›å»ºå®¹å™¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker build -t dockerproject .
</span></span></code></pre></div><p>8.è¿è¡Œå®¹å™¨ä¸­çš„åº”ç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run dockerproject
</span></span></code></pre></div><p>å¦‚æœæ˜¾ç¤ºå¦‚ä¸‹ç»“æœï¼Œè¯´æ˜å®¹å™¨æ„å»ºæˆåŠŸï¼</p>
<p><img src="/img/python-practice-1.png" alt=""></p>
<blockquote>
<p>è§†é¢‘æ•™ç¨‹ï¼š</p>
<ol>
<li>åŸºäºnode.jsï¼š<a href="https://youtu.be/8XrDSNnesEQ">åˆ«é—®ï¼Œé—®å°±å…ˆå¹²</a></li>
<li>åŸºäºFlaskï¼š<a href="https://youtu.be/gHaFqYRJ_aw">How To Containerize Your Python Application using Docker</a> (æœ¬ç« åŸºäºæ­¤æ•™ç¨‹æ”¹ç¼–)</li>
</ol>
<p>æ–‡å­—æ•™ç¨‹ï¼š</p>
<ol>
<li><a href="https://www.runoob.com/docker/docker-tutorial.html">èœé¸Ÿæ•™ç¨‹</a></li>
<li><a href="https://docs.docker.com/get-started/">Docker Documentation</a></li>
</ol>
</blockquote>
<br>
<h2 id="ä»£ç é£æ ¼">ä»£ç é£æ ¼</h2>
<blockquote>
<p>å¼•è¨€ï¼šä¸ºä»€ä¹ˆå·¥ç¨‹åŒ– Python éœ€è¦é‡è§†ä»£ç é£æ ¼ï¼Ÿ</p>
<ol>
<li>æŒ‰æŸç§çº¦å®šé£æ ¼å†™ä»£ç ï¼Œå¯ä»¥è®©å›¢é˜Ÿé¡¹ç›®çš„é£æ ¼æ›´ç»Ÿä¸€ï¼Œæœ‰åˆ©äºå›¢é˜Ÿæˆå‘˜é—´äº¤æ¥å·¥ä½œã€‚</li>
<li>å·¥ç¨‹é¡¹ç›®é€šå¸¸ä»£ç é‡è¾ƒå¤§ã€‚éšç€ä»£ç é‡çš„å¢åŠ ï¼Œdebug å˜å¾—æ„ˆå‘å›°éš¾ã€‚æŒ‰çº¦å®šå¥½çš„é£æ ¼å†™ä»£ç ï¼Œèƒ½æœ‰æ•ˆé¢„é˜²ä»£ç å‘ç”Ÿæœªé¢„æœŸçš„é”™è¯¯ã€‚</li>
</ol>
</blockquote>
<p>å»ºè®®é€šè¿‡ <a href="http://google.github.io/styleguide/pyguide.html"><em>Google Python Style Guide</em></a> å­¦ä¹ ä»£ç é£æ ¼ï¼Œè¯¥æŒ‡å—éå¸¸ä¸­è‚¯åœ°æå‡ºäº†æ¯é¡¹å»ºè®®çš„ä¼˜ç¼ºç‚¹ä»¥åŠä¾‹å¤–çš„æƒ…å†µã€‚</p>
<p>ä¸‹é¢åˆ—å‡ æ¡æˆ‘è®¤ä¸ºé‡è¦çš„ä»£ç é£æ ¼å»ºè®®ï¼š</p>
<h3 id="1-docstrings">1. Docstrings</h3>
<p>docstring æ˜¯ Python ä¸ºæ¨¡å—ã€ç±»ã€å‡½æ•°ä¹¦å†™å¸®åŠ©æ–‡æ¡£çš„ä¸€ç§æ–¹æ³•ã€‚æŒ‰çº¦å®šï¼Œå†™åœ¨æ¨¡å—ã€ç±»ã€å‡½æ•°ä¹‹ä¸‹çš„ç¬¬ä¸€æ¡å£°æ˜å°±æ˜¯ docstring.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;docstring here.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p>å¯ä»¥é€šè¿‡å¯¹è±¡çš„<code>__doc__</code>æˆå‘˜æŸ¥çœ‹è¯¥å¯¹è±¡çš„ docstringã€‚å‡å¦‚ä½ å·²ç»ä¸ºå‡½æ•°<code>foo()</code>å†™å¥½äº† docstringï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å®ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(foo<span style="color:#f92672">.</span>__doc__)
</span></span></code></pre></div><p>å…³äºä¹¦å†™docstringçš„å…·ä½“è§„èŒƒï¼Œè¯·å‚è§ <a href="http://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>ï¼Œè¿™é‡Œå°±ä¸è¿‡åˆ†æ‹¾äººç‰™æ…§äº†ã€‚</p>
<h3 id="2-none-çš„åˆ¤æ–­">2. None çš„åˆ¤æ–­</h3>
<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œè¯·ä½¿ç”¨ <code>if foo is None</code> (æˆ–è€… <code>if foo is not None</code> ). é¿å…ä½¿ç”¨ <code>==</code> åˆ¤æ–­ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œè¦ç”¨ <code>is</code> å‘¢ï¼Ÿä¸‹é¢æ˜¯ <em>Fluent Python</em> ä¸€ä¹¦ä¸­çš„è§£é‡Šï¼š</p>
<details>
<summary><font color='#0284c5'>å·²æŠ˜å ï¼Œç‚¹å‡»å±•å¼€</font></summary>
<blockquote>
<p>The <code>==</code> operator compares the values of objects (the data they hold), while is compares their identities.</p>
<p>We often care about values and not identities, so == appears more frequently than is in Python code.</p>
<p>However, if you are comparing a variable to a singleton, then it makes sense to use is. By far, the most common case is checking whether a variable is bound to None. This is the recommended way to do it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><p>And the proper way to write its negation is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><p>The <code>is</code> operator is faster than <code>==</code>, because it cannot be overloaded, so Python does not have to find and invoke special methods to evaluate it, and computing is as simple as comparing two integer IDs. In contrast, <code>a == b</code> is syntactic sugar for <code>a.__eq__(b)</code>. The <code>__eq__</code> method inherited from object compares object IDs, so it produces the same result as is. But most built-in types override <code>__eq__</code> with more meaningful implementations that actually take into account the values of the object attributes. Equality may involve a lot of processing â€”- for example, when comparing large collections or deeply nested structures.</p>
<p>æ‘˜è‡ª <em>Fluent Python</em> CHAPTER 8</p>
</blockquote>
</details>
<p>æ€»ç»“æ¥è¯´å°±æ˜¯ï¼Œè™½ç„¶ <code>==</code> å’Œ <code>is</code> çš„è¿ç®—ç»“æœç›¸åŒï¼Œä½† <code>==</code> å…¶å®æ˜¯ <code>__eq__</code> çš„è¯­æ³•ç³–ï¼Œè€Œ <code>__eq__</code> åœ¨å®é™…è°ƒç”¨ä¸­ç»å¸¸è¢«é‡è½½ï¼Œå¯¼è‡´ç¨‹åºè¿›å…¥ä¸€ç³»åˆ—ç¹ççš„æ­¥éª¤ä¸­ã€‚è€Œ <code>is</code> åˆ™ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„æ•´æ•°IDå¾—å‡ºç»“æœï¼Œæ‰€ä»¥æ¯” <code>==</code> æ•ˆç‡æ›´é«˜ã€‚</p>
<h3 id="3-å‘½å">3. å‘½å</h3>
<!-- # è¿™é‡Œè¿˜æœ‰ä¸œè¥¿è¦å†™ -->
<p>å‘½åè§„èŒƒè§ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Public</th>
<th>Internal</th>
</tr>
</thead>
<tbody>
<tr>
<td>Packages</td>
<td>lower_with_under</td>
<td></td>
</tr>
<tr>
<td>Modules</td>
<td>lower_with_under</td>
<td>_lower_with_under</td>
</tr>
<tr>
<td>Classes</td>
<td>CapWords</td>
<td>_CapWords</td>
</tr>
<tr>
<td>Exceptions</td>
<td>CapWords</td>
<td></td>
</tr>
<tr>
<td>Functions</td>
<td>lower_with_under()</td>
<td>_lower_with_under()</td>
</tr>
<tr>
<td>Global/Class Constants</td>
<td>CAPS_WITH_UNDER</td>
<td>_CAPS_WITH_UNDER</td>
</tr>
<tr>
<td>Global/Class Variables</td>
<td>lower_with_under</td>
<td>_lower_with_under</td>
</tr>
<tr>
<td>Instance Variables</td>
<td>lower_with_under</td>
<td>_lower_with_under (protected)</td>
</tr>
<tr>
<td>Method Names</td>
<td>lower_with_under()</td>
<td>_lower_with_under() (protected)</td>
</tr>
<tr>
<td>Function/Method Parameters</td>
<td>lower_with_under</td>
<td></td>
</tr>
<tr>
<td>Local Variables</td>
<td>lower_with_under</td>
<td></td>
</tr>
</tbody>
</table>
<p>æ‘˜è‡ª Google Python Style Guide</p>
<br>
<h2 id="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</h2>
<blockquote>
<p>å…³äº &ldquo;The best way of unit test&rdquo;ï¼Œå¤§å®¶æœ‰ä¸åŒçš„æ„è§ï¼Œæœ‰äººè§‰å¾— nose å¥½ç”¨ï¼Œæœ‰äººè§‰å¾—åŸç”Ÿçš„ unittest å¥½ç”¨ã€‚ä½†æ˜¯æˆ‘æœ‰ä¸åŒçš„è§è§£ï¼Œä¸ªäººè§‰å¾— Jupyter notebook æ‰æ˜¯æœ€å¥½ç”¨çš„å•æµ‹å·¥å…·ã€‚<img src="/img/quyin/huaji.png" class="my-emoji" style = "height: 32px;"></p>
</blockquote>
<p>GitHub é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/luochang212/python-tips/tree/master/test" target="_blank">python-tips/test</a></p>
<p>å½“ç„¶è¨€å½’æ­£ä¼ ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¾—æ­£ç»åœ°å­¦ä¹ ä¸€ä¸‹å•æµ‹çš„ã€‚å•æµ‹å¯ä»¥ç¡®ä¿æ¯ä¸ªå‡½æ•°æ¯ä¸ªæ¨¡å—éƒ½æŒ‰ç…§æˆ‘ä»¬é¢„æœŸçš„æ–¹å¼è¿è¡Œã€‚å¦‚æœä½ ä¸æ˜¯åœ¨å†™å®Œä»£ç ä»¥åï¼Œæ‰å†™å•æµ‹ä»£ç ï¼Œè€Œæ˜¯ä¸€è¾¹å¼€å‘ä¸€è¾¹æµ‹è¯•ï¼Œé‚£ä¹ˆä½ å…¶å®éµå¾ªäº†<strong>æµ‹è¯•é©±åŠ¨å¼€å‘</strong>(Test-Driven Development)çš„å¼€å‘æ–¹å¼ã€‚è¿™ç§å¼€å‘æ–¹å¼çš„å¥½å¤„æ˜¯ï¼Œåœ¨å¼€å‘çš„å…¨ç”Ÿå‘½å‘¨æœŸå†…ï¼Œæˆ‘ä»¬éƒ½èƒ½ç¡®ä¿ä»£ç æ­£ç¡®è¿è¡Œã€‚</p>
<h3 id="unittest">unittest</h3>
<p>unittest æ˜¯ Python åŸç”Ÿæ”¯æŒ(natively supported)çš„å•å…ƒæµ‹è¯•åº“ã€‚åœ¨ä½¿ç”¨è¿™ä¸ªåº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŒ‰ç…§æ¨¡ç‰ˆå†™å°±å¥½äº†ã€‚æ¨¡ç‰ˆå¯ä»¥å‚è€ƒ <a href="https://docs.python.org/3/library/unittest.html">unittest æ–‡æ¡£</a> ä¸­çš„ basic example ä¸€èŠ‚ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># file name: test_upper.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestStringMethods</span>(unittest<span style="color:#f92672">.</span>TestCase):  <span style="color:#75715e"># ç»§æ‰¿ unittest.TestCase æ˜¯å›ºå®šçš„å†™æ³•</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_upper</span>(self):  <span style="color:#75715e"># å•æµ‹å‡½æ•°ä¸€èˆ¬ä»¥testå¼€å¤´</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(<span style="color:#e6db74">&#39;foo&#39;</span><span style="color:#f92672">.</span>upper(), <span style="color:#e6db74">&#39;FOO&#39;</span>)  <span style="color:#75715e"># ä½¿ç”¨assertæ–­è¨€åˆ¤æ–­æµ‹è¯•ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    unittest<span style="color:#f92672">.</span>main()  <span style="color:#75715e"># è¿™ä¸ªä¹Ÿæ˜¯å›ºå®šå†™æ³•</span>
</span></span></code></pre></div><p>åœ¨å‘½ä»¤è¡Œè¿è¡Œ <code>python test_upper.py</code>ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<p><img src="/img/unittest-res.png" alt=""></p>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ <code>assertEqual(a, b)</code> ç”¨äºåˆ¤æ–­ <code>a</code> å’Œ <code>b</code> æ˜¯å¦ç›¸ç­‰ã€‚åƒè¿™æ ·çš„ assert æ–¹æ³•è¿˜æœ‰å¾ˆå¤šï¼Œä¸‹é¢æ˜¯å®ƒä»¬çš„ç”¨æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Checks that</th>
</tr>
</thead>
<tbody>
<tr>
<td>assertEqual(a, b)</td>
<td><code>a == b</code></td>
</tr>
<tr>
<td>assertNotEqual(a, b)</td>
<td><code>a != b</code></td>
</tr>
<tr>
<td>assertTrue(x)</td>
<td><code>bool(x) is True</code></td>
</tr>
<tr>
<td>assertFalse(x)</td>
<td><code>bool(x) is False</code></td>
</tr>
<tr>
<td>assertIs(a, b)</td>
<td><code>a is b</code></td>
</tr>
<tr>
<td>assertIsNot(a, b)</td>
<td><code>a is not b</code></td>
</tr>
<tr>
<td>assertIsNone(x)</td>
<td><code>x is None</code></td>
</tr>
<tr>
<td>assertIsNotNone(x)</td>
<td><code>x is not None</code></td>
</tr>
<tr>
<td>assertIn(a, b)</td>
<td><code>a in b</code></td>
</tr>
<tr>
<td>assertNotIn(a, b)</td>
<td><code>a not in b</code></td>
</tr>
<tr>
<td>assertIsInstance(a, b)</td>
<td><code>isinstance(a, b)</code></td>
</tr>
<tr>
<td>assertNotIsInstance(a, b)</td>
<td><code>not isinstance(a, b)</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note</strong>: <code>setUp()</code> æ–¹æ³•è¿è¡Œåœ¨æµ‹è¯•å‰ï¼Œå¯å°†æµ‹è¯•å‰éœ€è¦è¿è¡Œçš„ä»£ç æ”¾åœ¨è¯¥å‡½æ•°å†…ã€‚<code>tearDown()</code> æ–¹æ³•è¿è¡Œåœ¨æµ‹è¯•åï¼Œä¸€èˆ¬ç”¨äºæ¸…ç†æµ‹è¯•äº§ç”Ÿçš„å˜é‡ã€‚å¦‚æœæƒ³è¦å…¨é¢åœ°äº†è§£å•æµ‹ï¼Œè¯·é˜…è¯» <a href="https://docs.python.org/3/library/unittest.html">unittest æ–‡æ¡£</a>ï¼Œæ–‡æ¡£çš„ä½œç”¨æ˜¯ä»»ä½•æ•™ç¨‹éƒ½æ— æ³•æ›¿ä»£çš„ã€‚</p>
</blockquote>
<br>
<h2 id="ä»å‘½ä»¤è¡Œè¿è¡Œ-python">ä»å‘½ä»¤è¡Œè¿è¡Œ Python</h2>
<blockquote>
<p>è¿è¡Œ Python çš„æ–¹æ³•å¾ˆå¤šï¼Œå¸¸ç”¨çš„æœ‰ Pycharm, Jupyter notebook, VSCode ç­‰ã€‚ä½†æ˜¯ï¼Œå…¬å¸çš„ Python ç¯å¢ƒé€šå¸¸æ­å»ºåœ¨å¼€å‘æœºä¸Šï¼Œè€Œå¼€å‘æœºå®‰è£…çš„æ˜¯ Linux çš„å„ç§å‘è¡Œç‰ˆã€‚è¿™å°±éœ€è¦æˆ‘ä»¬<a href="https://wangdoc.com/bash/">ç†Ÿæ‚‰ bash ç¼–ç¨‹</a>ï¼Œä»¥åŠ Python çš„å‘½ä»¤è¡Œé€‰é¡¹ã€‚</p>
</blockquote>
<p>GitHub é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/luochang212/python-tips/tree/master/command_line" target="_blank">python-tips/command_line</a></p>
<h3 id="1-å‘½ä»¤è¡Œé€‰é¡¹">1. å‘½ä»¤è¡Œé€‰é¡¹</h3>
<p>æœ€å¸¸ç”¨çš„ä»å‘½ä»¤è¡Œæ‰§è¡Œ Python çš„æ–¹æ³•æ˜¯ï¼Œåœ¨ Terminal ä¸­è¿›å…¥è„šæœ¬æ‰€åœ¨çš„å·¥ä½œè·¯å¾„ä¸‹ï¼Œæ‰§è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ python srcipt.py  <span style="color:#75715e"># script.py å¯ä»¥æ¢æˆä½ çš„ Python æ–‡ä»¶</span>
</span></span></code></pre></div><p>é™¤äº†è¿™ç§è¿è¡Œæ–¹æ³•ï¼ŒPython è¿˜æä¾› <code>-c</code> å’Œ <code>-m</code> ä¸¤ä¸ªæ¥å£é€‰é¡¹(interface options)ã€‚</p>
<p><strong><code>-c &lt;command&gt;</code></strong></p>
<p><code>-c</code> é€‰é¡¹åæ¥ Python ä»£ç ï¼Œå¯åœ¨å‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œã€‚è¡Œå‰ç©ºæ ¼çš„è§„å’Œè„šæœ¬çš„è§„åˆ™ç›¸åŒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ä¾‹ä¸€</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>python -c <span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">print(&#34;hello&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">print(&#34;world&#34;)&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ä¾‹äºŒ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>python -c <span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">for i in range(3):
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    print(i)&#39;</span>
</span></span></code></pre></div><p><strong><code>-m &lt;module-name&gt;</code></strong></p>
<p><code>-m</code> é€‰é¡¹åæ¥ Python æ¨¡å—ã€‚è¯¥å‘½ä»¤ä¼šåœ¨ <code>sys.path</code> ä¸‹æœç´¢è¯¥æ¨¡å—ï¼Œå¹¶å°†è¯¥æ¨¡å—ä½œä¸º <code>__main__</code> æ¨¡å—æ‰§è¡Œã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ python -m script  <span style="color:#75715e"># å°† script.py ä½œä¸ºæ¨¡å—æ‰§è¡Œ</span>
</span></span></code></pre></div><blockquote>
<p><strong>Note</strong>:</p>
<ul>
<li>å…³äºåŸç”Ÿå‘½ä»¤è¡Œé€‰é¡¹ï¼Œå¯å‚è€ƒ <a href="https://docs.python.org/3/using/cmdline.html">Command line and environment</a></li>
<li>å…³äºè‡ªå®šä¹‰å‘½ä»¤è¡Œé€‰é¡¹ï¼Œå¯å‚è€ƒ <a href="https://docs.python.org/3/library/argparse.html">argparse</a></li>
</ul>
</blockquote>
<h3 id="2-ä»æ ‡å‡†è¾“å…¥è·å–æ–‡æœ¬">2. ä»æ ‡å‡†è¾“å…¥è·å–æ–‡æœ¬</h3>
<p>Python å¯ä»¥åˆ©ç”¨æ ‡å‡†è¾“å…¥ <a href="https://docs.python.org/3/library/sys.html#sys.stdin">sys.stdin</a>ï¼Œä»å‘½ä»¤è¡Œè·å–æ–‡æœ¬ã€‚</p>
<h4 id="-ä½¿ç”¨-echo-ä»å‘½ä»¤è¡Œè·å–è¾“å…¥">â‘  ä½¿ç”¨ <code>echo</code> ä»å‘½ä»¤è¡Œè·å–è¾“å…¥</h4>
<p>åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª Python æ–‡ä»¶ <code>read_text.py</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># read_text.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> sys<span style="color:#f92672">.</span>stdin:
</span></span><span style="display:flex;"><span>    line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span>    print(line <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;......ok&#39;</span>)
</span></span></code></pre></div><p>åœ¨è¯¥ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;hello&#34;</span> | python read_text.py
</span></span></code></pre></div><p>å¦‚å‘½ä»¤è¡Œè¾“å‡ºï¼š</p>
<p><img src="/img/command-line-execute-1.png" alt=""></p>
<p>åˆ™è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸåœ°ä»å‘½ä»¤è¡Œè¯»å–äº†å­—ç¬¦ä¸² <code>&quot;hello&quot;</code>ã€‚</p>
<h4 id="-ä½¿ç”¨-cat-ä»æŒ‡å®šæ–‡ä»¶è·å–è¾“å…¥">â‘¡ ä½¿ç”¨ <code>cat</code> ä»æŒ‡å®šæ–‡ä»¶è·å–è¾“å…¥</h4>
<p>é™¤ä½¿ç”¨ <code>echo</code> å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ <code>cat</code> æŒ‡å®šæ–‡ä»¶ï¼Œä½œä¸ºæ ‡å‡†è¾“å…¥:</p>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>info.txt</code>ï¼Œåœ¨é‡Œé¢éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼Œæ¯”å¦‚ï¼š</p>
<pre tabindex="0"><code>hello
are you ok
how are you
i fine, thx
that&#39;s great
</code></pre><p>åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat info.txt | python read_text.py
</span></span></code></pre></div><p>å…¶è¾“å‡ºæ˜¯ï¼š</p>
<p><img src="/img/command-line-execute-2.png" alt=""></p>
<h4 id="-ä»å…¶ä»–-python-æ–‡ä»¶çš„è¾“å‡ºæµä¸­è·å–è¾“å…¥">â‘¢ ä»å…¶ä»– Python æ–‡ä»¶çš„è¾“å‡ºæµä¸­è·å–è¾“å…¥</h4>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»å¦ä¸€ä¸ª Python æ–‡ä»¶çš„è¾“å‡ºæµä¸­è·å–è¾“å…¥ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª Python æ–‡ä»¶ <code>gen_text.py</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># gen_text.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">.</span>join([<span style="color:#e6db74">&#34;This is line&#34;</span>, str(i)]))
</span></span></code></pre></div><p>åœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ python gen_text.py | python read_text.py
</span></span></code></pre></div><p>è·å¾—çš„è¾“å‡ºæ˜¯ï¼š</p>
<p><img src="/img/command-line-execute-3.png" alt=""></p>
<p>Windows ç”¨æˆ·å‚è§ <a href="https://stackoverflow.com/questions/1450393/how-do-you-read-from-stdin/1450396#1450396">How do you read from stdin?</a></p>
<h3 id="3-ä»å‘½ä»¤è¡Œè¯»å…¥å‚æ•°">3. ä»å‘½ä»¤è¡Œè¯»å…¥å‚æ•°</h3>
<p>Python å¯ä»¥é€šè¿‡ <a href="https://docs.python.org/3/library/sys.html#sys.argv">sys.argv</a> ä»å‘½ä»¤è¡Œè¯»å…¥å‚æ•°ã€‚</p>
<p>åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»º <code>get_argv.py</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(sys<span style="color:#f92672">.</span>argv)
</span></span></code></pre></div><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä¸‹è¿°ä»£ç ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½è·å¾—é¢„æœŸçš„ç»“æœï¼š</p>
<pre tabindex="0"><code>$ python get_argv.py
# è¾“å‡ºæ˜¯ [&#39;get_argv.py&#39;]

$ python get_argv.py hi nihao
# è¾“å‡ºæ˜¯ [&#39;get_argv.py&#39;, &#39;hi&#39;, &#39;nihao&#39;]
</code></pre><h3 id="4-æ ‡å‡†é”™è¯¯è¾“å‡º">4. æ ‡å‡†é”™è¯¯è¾“å‡º</h3>
<p>Python å¯ä»¥æŒ‡å®š<strong>æ ‡å‡†é”™è¯¯è¾“å‡º</strong> (<a href="https://docs.python.org/3/library/sys.html#sys.stderr">sys.stderr</a>) çš„å†…å®¹ã€‚</p>
<h4 id="-å°†æ ‡å‡†é”™è¯¯è¾“å‡ºæ‰“å°åˆ°å‘½ä»¤è¡Œ">â‘  å°†æ ‡å‡†é”™è¯¯è¾“å‡ºæ‰“å°åˆ°å‘½ä»¤è¡Œ</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># gen_error.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ­£å¸¸ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;NORMAL INFO&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># é”™è¯¯ä¿¡æ¯ Python2å†™æ³•</span>
</span></span><span style="display:flex;"><span>print <span style="color:#f92672">&gt;&gt;</span> sys<span style="color:#f92672">.</span>stderr, <span style="color:#e6db74">&#39;ERROR INFO&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># é”™è¯¯ä¿¡æ¯ Python3å†™æ³•</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;ERROR INFO&#39;</span>, file<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>stderr)
</span></span></code></pre></div><p>ç›´æ¥å°†é”™è¯¯ä¿¡æ¯æ‰“å°åˆ°å‘½ä»¤è¡Œä¸ä¼šæœ‰ä»€ä¹ˆç‰¹æ®Šçš„æé†’ï¼Œçœ‹åˆ°çš„ç»“æœå°±å’Œæ™®é€š <code>print</code> å‡½æ•°ä¸€æ ·ã€‚ä½†æ˜¯ Linux èƒ½ä¾æ¬¡è¯†åˆ«å“ªäº›æ˜¯æ­£å¸¸æ‰“å°ä¿¡æ¯ï¼Œå“ªäº›æ˜¯é”™è¯¯ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ Linux å°†è¿™ä¸¤ç±»ä¿¡æ¯åˆ†åˆ«æ‰“å…¥ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¯¦è§ä¸‹ä¸€èŠ‚ã€‚</p>
<h4 id="-å°†æ ‡å‡†é”™è¯¯è¾“å‡ºæ‰“å°åˆ°æ—¥å¿—">â‘¡ å°†æ ‡å‡†é”™è¯¯è¾“å‡ºæ‰“å°åˆ°æ—¥å¿—</h4>
<p>å› ä¸ºæˆ‘ä»¬åœ¨ Python è„šæœ¬ä¸­å·²ç»æŒ‡å®šäº†å“ªäº›æ˜¯æ­£å¸¸ä¿¡æ¯ï¼Œå“ªäº›æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œå› æ­¤ Linux å¯ä»¥è¯†åˆ«å®ƒä»¬ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ python gen_error.py 1&gt;&gt; result.log 2&gt;&gt; error.log
</span></span></code></pre></div><p>ä¸Šè¿°çš„ä»£ç é€šè¿‡ <code>1&gt;&gt;</code>ï¼ˆ1å¯çœç•¥ï¼‰å°†æ­£å¸¸ä¿¡æ¯æ‰“å°åˆ°æ—¥å¿— <code>result.log</code>ï¼›é€šè¿‡ <code>2&gt;&gt;</code> å°†é”™è¯¯ä¿¡æ¯æ‰“å°åˆ°æ—¥å¿— <code>error.log</code>ã€‚</p>
<blockquote>
<p><strong>Note</strong>: å…³äº Terminal å¿«æ·é”®ï¼ŒMac ç”¨æˆ·å¯ä»¥çœ‹çœ‹ <a href="https://support.apple.com/en-gb/guide/terminal/trmlshtcts/mac">Keyboard shortcuts in Terminal on Mac</a>.</p>
</blockquote>
<!-- ## è®¾è®¡æ¨¡å¼ -->
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://www.youtube.com/watch?v=N5vscPTWKOk">Python Tutorial: virtualenv and why you should use virtual environments</a></li>
<li><a href="http://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a></li>
<li><a href="https://github.com/zh-google-styleguide/zh-google-styleguide">Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å— (ä¸­æ–‡ç‰ˆ)</a></li>
<li><a href="https://medium.com/swlh/unit-testing-in-python-code-confidently-and-break-stuff-on-purpose-d246e7167e79">Unit Testing in Python</a></li>
<li><a href="https://medium.com/@mashood.snhu/a-quick-start-guide-to-python-unittest-part-1-9653683637ca">Quick Start Guide to Python unittest</a></li>
<li><a href="https://docs.python.org/3/using/cmdline.html">Command line and environment</a></li>
<li><a href="https://stackoverflow.com/questions/1450393/how-do-you-read-from-stdin/1450396#1450396">How do you read from stdin?</a></li>
</ol>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/algorithms/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">ç®—æ³•é›†èƒ</span>
    </a>
    
    
    <a href="/posts/hadoop_intro/" class="navigation-next">
      <span class="navigation-tittle">æ¼«è°ˆ Hadoop Streaming</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>

        </div>
        
    <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>


  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-CTTYXM88J2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    



<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.js"></script>
<script type="text/javascript">
  if (tocbot) {
    tocbot.init({
      
      tocSelector: '.toc',
      
      contentSelector: '.post',
      
      headingSelector: 'h2, h3, h4',
      collapseDepth: 4
    });
  }
</script>



    



    </body>
</html>
