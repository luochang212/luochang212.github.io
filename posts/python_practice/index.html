<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.55.6" />

    
    
    

<title>Python å·¥ç¨‹åŒ–å®è·µ â€¢ Chang Luo</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python å·¥ç¨‹åŒ–å®è·µ"/>
<meta name="twitter:description" content="å­¦ Python ä¸åº”ä»…é™äºå­¦ä¹ ç¨‹åºè®¾è®¡ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­åŒæ ·å­˜åœ¨å¤§é‡çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºã€ç¼–ç é£æ ¼çš„å…»æˆä»¥åŠå¦‚ä½•ç¼–å†™å•æµ‹ç­‰ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python èµ°å‘å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚"/>

<meta property="og:title" content="Python å·¥ç¨‹åŒ–å®è·µ" />
<meta property="og:description" content="å­¦ Python ä¸åº”ä»…é™äºå­¦ä¹ ç¨‹åºè®¾è®¡ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­åŒæ ·å­˜åœ¨å¤§é‡çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºã€ç¼–ç é£æ ¼çš„å…»æˆä»¥åŠå¦‚ä½•ç¼–å†™å•æµ‹ç­‰ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python èµ°å‘å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://luochang212.github.io/posts/python_practice/" />
<meta property="article:published_time" content="2020-06-14T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2020-06-14T00:00:00&#43;00:00"/><meta property="og:site_name" content="Title" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.6a83d62c39a364f036df4db1ecd564645635d6c7fc182425cb501218fec485f5.css" integrity="sha256-aoPWLDmjZPA2302x7NVkZFY11sf8GCQly1ASGP7EhfU=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="/scss/hugo-toc.8549a64d301421b4256ea9a0d5ca8b99178799f569d5d2daeb95f24cef3ce6b7.css" integrity="sha256-hUmmTTAUIbQlbqmg1cqLmReHmfVp1dLa65XyTO885rc=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
</head>


    <body class=" ">
    <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://upcdn.b0.upaiyun.com/libs/jquery/jquery-1.9.0.min.js"></script>

  <style>
    body {
      transition: background-color .5s;
    }

    #overlay {
      position: fixed;
      display: none;
      width: calc(100vw - 580px);
      height: 100%;
      top: 0;
      left: 0;
       
      z-index: 2;
      cursor: pointer;
    }

    .sidenav {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1000;
      top: 0;
      right: 0;
      background-color: #FFF;
       
      overflow-x: hidden;
      transition: 0.5s;
       
       
    }

    #main {
      transition: margin-left .5s;
       
      padding: 16px;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      overflow: hidden;
    }

     
    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
    }

     
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }

     
    .tab button:hover {
      background-color: #ddd;
    }

     
    .tab button.active {
      background-color: #ccc;
    }

     
    .tabcontent {
      display: none;
      padding: 12px 12px;
      margin: 0;
      border: 1px solid #ccc;
      border-top: none;
    }

    .dropbtn {
      background-color: #3498DB;
      color: white;
      padding: 16px;
      font-size: 16px;
      border: none;
    }

    .dropup {
      position: relative;
      display: inline-block;
    }

    .dropup-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      bottom: 50px;
      z-index: 1;
    }

    .dropup-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .dropup-content a:hover {
      background-color: #ccc
    }

    .dropup:hover .dropup-content {
      display: block;
    }

    .dropup:hover .dropbtn {
      background-color: #2980B9;
    }

    #video2,
    #video3 {
      display: none;
    }
  </style>

</head>

<body>

  
  <div class="sidebar">
    <div class="container ">
      <div class="sidebar-about">
        <span class="site__title">
          <a href="http://luochang212.github.io">Chang Luo</a>
        </span>
        
        
        
        <div class="author-image">
          <a href="#" class="load-iframe" onclick="openNav()"><img src="http://luochang212.github.io/images/profile.png" id="author-iamge"
              alt="Author Image" class="img--circle img--headshot element--center"></a>
        </div>
        
        <p class="site__description">
          
        </p>
      </div>
      <div class="collapsible-menu">
        <input type="checkbox" id="menuToggle">
        <label for="menuToggle">Chang Luo</label>
        <div class="menu-content">
          <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio/">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

          <section class="social">
	
	<a href="https://twitter.com/MinosPalace" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://instagram.com/icstocs" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://github.com/luochang212" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/bupt-luochang" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
</section>

        </div>
      </div>
      
<div class="copyright">
  &copy; 2020 Chang Luo
  
</div>



    </div>
  </div>

  
  

  <div id="overlay" onclick="off()"></div>

  <div id="mySidenav" class="sidenav">

    <div id="main">
      <div class="tab">
        <button id="default-tab" class="tablinks" onclick="openItem(event, 'Resources')">Resources</button>
        <button class="tablinks" onclick="openItem(event, 'netease-player')">Music</button>
        <button class="tablinks" onclick="openItem(event, 'Video-player')">Video</button>
        <button class="tablinks" onclick="openItem(event, 'gallery')">Gallery</button>
        <button class="tablinks" onclick="openItem(event, 'gadget')">Gadget</button>
      </div>

      <div id="Resources" class="tabcontent">
        <iframe src="about:blank" data-src="/resources/" frameborder="0" height="560" width="100%" marginheight="0"
          marginwidth="0" scrolling="yes"></iframe>
      </div>

      <div id="netease-player" class="tabcontent">
        <iframe src="about:blank" data-src="//music.163.com/outchain/player?type=0&id=2250585392&auto=0&height=430"
          frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=450></iframe>
      </div>

      <div id="Video-player" class="tabcontent">

        <div id="video1">
          <iframe src="about:blank" data-src="//player.bilibili.com/player.html?aid=455023331&bvid=BV1X541167RE&cid=170542054&page=1&high_quality=1&danmaku=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>
        <div id="video2">
          <iframe src="about:blank" data-src="//player.bilibili.com/player.html?aid=65042716&bvid=BV1M4411r7yu&cid=112895137&page=1&high_quality=1&high_quality=1&danmaku=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>
        <div id="video3">
          <iframe src="about:blank" data-src="//player.bilibili.com/player.html?aid=20535616&bvid=BV1zW411W75L&cid=33582726&page=1//player.bilibili.com/player.html?aid=15159845&cid=24679968&page=1&high_quality=1&danmaku=0"
            style="width:100%; height:460px" scrolling="no" border="0" frameborder="no" framespacing="0"
            allowfullscreen="true"></iframe>
        </div>

        

        

        <br>
        <div class="dropup">
          <button class="dropbtn">æ›´å¤šè§†é¢‘</button>
          <div class="dropup-content">
            <a onclick="link1()">1</a>
            <a onclick="link2()">2</a>
            <a onclick="link3()">3</a>
          </div>
        </div>
      </div>

      <div id="gallery" class="tabcontent">
        <iframe src="about:blank" data-src="/gadget/gallery/#two" frameborder="0" height="560" width="100%"
          scrolling="yes"></iframe>
      </div>

      <div id="gadget" class="tabcontent">
        <iframe src="about:blank" data-src="/gadget/" frameborder="0" height="560" width="100%"
          scrolling="yes"></iframe>
      </div>

    </div>
  </div>

  
  <script>
    'use strict'
    
    function openNav() {
      on();
      document.getElementById("mySidenav").style.width = "580px";
      document.body.style.backgroundColor = "rgba(0,0,0,0.5)";
    }

    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.body.style.backgroundColor = "white";
    }

    function on() {
      document.getElementById("overlay").style.display = "block";
    }

    function off() {
      closeNav();
      document.getElementById("overlay").style.display = "none";
    }

    
    document.getElementById('default-tab').click();

    function openItem(evt, itemName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(itemName).style.display = "block";
      evt.currentTarget.className += "active";
    }

    function link1() {
      document.getElementById("video1").style.display = "block";
      document.getElementById("video2").style.display = "none";
      document.getElementById("video3").style.display = "none";
    }

    function link2() {
      document.getElementById("video1").style.display = "none";
      document.getElementById("video2").style.display = "block";
      document.getElementById("video3").style.display = "none";
    }

    function link3() {
      document.getElementById("video1").style.display = "none";
      document.getElementById("video2").style.display = "none";
      document.getElementById("video3").style.display = "block";
    }

     
    var flag = 0;

     
    $(".load-iframe").click(function () {
      if (flag < 1) {
        $("iframe").each(function () {
          $(this).attr("src", $(this).data("src"));
        });
        flag = flag + 1;
      }
    });
  </script>

</body>



        <div class="content container">
            
    
<article>
  <header>
    <h1>Python å·¥ç¨‹åŒ–å®è·µ</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jun 14, 2020
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/development">DEVELOPMENT</a>
              â€¢
          
              <a class="badge badge-category" href="/categories/python">PYTHON</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/python">python</a>
           
      
          <a class="badge badge-tag" href="/tags/practice">practice</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
</div>


  </header>
  
  
  
    <div class="toc-wrapper">
      <input type="checkbox" id="tocToggle">
      <label for="tocToggle">ç›®å½•</label>
      
          <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#éƒ¨ç½²ç¯å¢ƒ">éƒ¨ç½²ç¯å¢ƒ</a>
<ul>
<li><a href="#1-anaconda">1. Anaconda</a>
<ul>
<li><a href="#â‘ -å…¨å±€ç¯å¢ƒ">â‘  å…¨å±€ç¯å¢ƒ</a></li>
<li><a href="#â‘¡-å±€éƒ¨ç¯å¢ƒ">â‘¡ å±€éƒ¨ç¯å¢ƒ</a></li>
</ul></li>
<li><a href="#2-virtualenv">2. Virtualenv</a></li>
</ul></li>
<li><a href="#ä»£ç é£æ ¼">ä»£ç é£æ ¼</a>
<ul>
<li><a href="#1-docstrings">1. Docstrings</a></li>
<li><a href="#2-none-çš„åˆ¤æ–­">2. None çš„åˆ¤æ–­</a></li>
<li><a href="#3-å‘½å">3. å‘½å</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
      
    </div>
  
  
  <div class="post">
    

<blockquote>
<p>å­¦ Python ä¸åº”ä»…é™äºå­¦ä¹ ç¨‹åºè®¾è®¡ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­åŒæ ·å­˜åœ¨å¤§é‡çŸ¥è¯†ï¼Œæ¯”å¦‚è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºã€ç¼–ç é£æ ¼çš„å…»æˆä»¥åŠå¦‚ä½•ç¼–å†™å•æµ‹ç­‰ç­‰ã€‚æœ¬æ–‡è‡´åŠ›äºä»‹ç» Python èµ°å‘å·¥ç¨‹åŒ–æ‰€éœ€çš„å‰ç½®çŸ¥è¯†ã€‚</p>
</blockquote>

<p><font color="red">âš ï¸</font> æ³¨æ„ï¼šä»¥ä¸‹æ•™ç¨‹é€‚ç”¨äº MacOSã€‚</p>

<h2 id="éƒ¨ç½²ç¯å¢ƒ">éƒ¨ç½²ç¯å¢ƒ</h2>

<h3 id="1-anaconda">1. Anaconda</h3>

<p>Anaconda æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œå®ƒèƒ½è®©ä½ æ–¹ä¾¿çš„ç®¡ç† Python ç‰ˆæœ¬ä¸åŒ…ç‰ˆæœ¬ã€‚å¹¶ä¸”ï¼Œ Anaconda å› ä¸ºèšåˆäº† Jupyter notebookï¼Œè€Œé¢‡å—æ•°æ®ç§‘å­¦å®¶å’Œäººå·¥æ™ºèƒ½å·¥ç¨‹å¸ˆçš„æ¬¢è¿ã€‚ç„¶è€Œï¼Œç”±äº Jupyter notebook å¤ªè¿‡è€€çœ¼ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šå¿˜è®°å®ƒä½œä¸ºä¸€ä¸ªåŒ…ç®¡ç†å™¨çš„æœ¬åˆ†ã€‚å…¶å® Anaconda ä¹Ÿæ˜¯å¯ä»¥ç”¨äºæ­å»ºè™šæ‹Ÿç¯å¢ƒçš„ã€‚</p>

<p>å¦‚æœæ²¡æœ‰ Anacondaï¼Œå®‰è£…ä¸€ä¸ªï¼š</p>

<ul>
<li>æµ·å¤–ç”¨æˆ·ç›´æ¥è®¿é—® <a href="https://www.anaconda.com/products/individual">Anaconda å®˜ç½‘</a> ä¸‹è½½å³å¯</li>
<li>å›½å†…ç”¨æˆ·æ— æ³•è®¿é—®ä¸Šè¿°é“¾æ¥(è¢«å¢™)ï¼Œå»ºè®®é€‰æ‹©<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/">æ¸…åé•œåƒ</a>æ›¿ä»£ã€‚</li>
</ul>

<p>å®‰è£…å®Œä»¥åï¼Œåœ¨å‘½ä»¤è¡Œç•Œé¢è¾“å…¥ <code>conda</code>ï¼Œä¼šæ‰“å°ä¸€ä¸ªå¸®åŠ©æ–‡æ¡£ã€‚</p>

<p><img src="/img/conda-command.png" alt="" /></p>

<p>è¿™é‡Œè¯´çš„å¤§æ¦‚å°±æ˜¯ conda æœ‰å“ªäº›å¸¸ç”¨å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š</p>

<pre><code class="language-shell">$ conda help  # æ‰“å°å¸®åŠ©æ–‡æ¡£
$ conda info  # æŸ¥çœ‹condaä¿¡æ¯ï¼ŒåŒ…æ‹¬å½“å‰åœ¨å“ªä¸ªç¯å¢ƒï¼Œç¯å¢ƒè·¯å¾„ï¼ŒPythonç‰ˆæœ¬ç­‰ä¿¡æ¯
$ conda list  # åˆ—å‡ºcondaä¸‹å®‰è£…äº†å“ªäº›åŒ…
$ conda install [package_name]  # åœ¨condaç¯å¢ƒä¸­å®‰è£…æŸä¸ªåŒ…
$ conda update [package_name]  # å‡çº§condaç¯å¢ƒä¸­çš„æŸä¸ªåŒ…
</code></pre>

<blockquote>
<p>é‡è¦ä¿¡æ¯ï¼šä½†æ˜¯ä¸Šé¢è¿™ä¸ªç®€æ˜“çš„æ–‡æ¡£å¹¶ä¸èƒ½è¦†ç›–æˆ‘ä»¬æ‰€æœ‰ä½¿ç”¨éœ€æ±‚ï¼Œæ›´å¤šä¿¡æ¯è¯·åœ¨ <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Anaconda å®˜æ–¹æ–‡æ¡£</a> ä¸­æŸ¥çœ‹ã€‚è¿™ä¸ªæ–‡æ¡£ååˆ†æœ‰ç”¨ï¼Œåæ–‡ä»…ä¸“æ³¨äºä»‹ç»å…¶ä¸­è™šæ‹Ÿç¯å¢ƒç›¸å…³çš„å†…å®¹ã€‚</p>
</blockquote>

<p>conda ç¯å¢ƒæœ‰æœ¬åœ°(lcoal) å’Œå…¨å±€ (global) ä¹‹åˆ†ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä¸ºæŸä¸ªé¡¹ç›®å®‰æ’ä¸€ä¸ªç‹¬ç«‹çš„éš”ç¦»çš„ç¯å¢ƒï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ local çš„é…ç½®ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç³»ç»Ÿé»˜è®¤çš„ conda ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦æ”¹ global çš„é…ç½®ã€‚æˆ‘ä»¬å…ˆè®²å…¨å±€ç¯å¢ƒçš„é…ç½®ï¼Œåè®²å±€éƒ¨ç¯å¢ƒçš„é…ç½®ã€‚</p>

<h4 id="â‘ -å…¨å±€ç¯å¢ƒ">â‘  å…¨å±€ç¯å¢ƒ</h4>

<p>ğŸ“– æ–°å»ºç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda create --name myenv
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤å¯æ–°å»ºä¸€ä¸ªåä¸º <code>myenv</code> çš„å…¨å±€ç¯å¢ƒ.</p>

<pre><code class="language-shell">$ conda create -n myenv python=2.7
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤ç”¨äºæŒ‡å®šæ–°å»ºç¯å¢ƒçš„ Python ç‰ˆæœ¬ï¼Œæœ¬ä¾‹æŒ‡å®š Python ç‰ˆæœ¬ä¸º 2.7ã€‚</p>

<pre><code class="language-shell">$ conda create -n myenv python=2.7 [package1] [package2] [package3]  ...
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤æŒ‡å®šæ–°å»ºç¯å¢ƒä¸‹åˆå§‹å®‰è£…çš„åŒ…ã€‚</p>

<p>ğŸ‘€ æŸ¥çœ‹ç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda info --envs
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤æ‰“å°æ‰€æœ‰ Python ç¯å¢ƒï¼ŒåŒ…æ‹¬å…¨å±€ç¯å¢ƒå’Œå±€éƒ¨ç¯å¢ƒï¼Œåœ¨å½“å‰ç¯å¢ƒå‰ä¼šæœ‰ä¸€ä¸ª <code>*</code> å·ã€‚</p>

<p>ğŸ€ æ¿€æ´»ç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda activate myenv
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤æ¿€æ´»åä¸º <code>myenv</code> çš„ conda ç¯å¢ƒã€‚</p>

<p>âš½ï¸ é€€å‡ºç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda deactivate
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤ç”¨äºé€€å‡ºå½“å‰ conda ç¯å¢ƒã€‚åœ¨é base ç¯å¢ƒé‡Œï¼Œä¼šé€€å‡ºåˆ° base ç¯å¢ƒï¼›è€Œåœ¨ base ç¯å¢ƒé‡Œï¼Œåˆ™ä¼šé€€å‡ºåˆ°ç³»ç»Ÿç¯å¢ƒã€‚</p>

<blockquote>
<p><strong>Note</strong>: å½»åº•é€€å‡ºç¯å¢ƒä»¥åï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>which python</code> ä¼šæ‰“å°ç³»ç»Ÿ Python çš„è·¯å¾„ã€‚å†æ¬¡è¿›å…¥ conda ç¯å¢ƒä»¥åï¼Œè¾“å…¥ <code>which python</code> åˆ™ä¼šæ‰“å° conda ä¸‹çš„ Python è·¯å¾„ã€‚</p>

<p>é‰´äºä»Šæ—¥çš„ MacOS ä¾æ—§é»˜è®¤å®‰è£… Python2.7ï¼Œå› æ­¤å»ºè®®å°† conda è®¾ä¸ºé»˜è®¤è¿è¡Œç¯å¢ƒï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½äº«å— Python3 çš„ä¾¿åˆ©äº†ï¼</p>
</blockquote>

<p>ğŸš® ç§»é™¤ç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda env remove --name myenv
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤ç§»é™¤åä¸º <code>myenv</code> çš„å…¨å±€ç¯å¢ƒã€‚</p>

<h4 id="â‘¡-å±€éƒ¨ç¯å¢ƒ">â‘¡ å±€éƒ¨ç¯å¢ƒ</h4>

<p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¸ºæŸä¸ªé¡¹ç›®é…ç½®ç‰¹å®šçš„ Python ç‰ˆæœ¬æˆ–åŒ…ç‰ˆæœ¬ï¼Œå°±éœ€è¦æ­å»ºå±€éƒ¨ç¯å¢ƒ(local environment)ã€‚</p>

<p>ğŸ“– æ–°å»ºç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda create --prefix ./envs python=2.7
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤åœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹ï¼Œæ–°å»ºäº†ä¸€ä¸ªåä¸º <code>envs</code> çš„å­ç›®å½•ã€‚å¹¶åœ¨è¯¥å­ç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶æŒ‡å®šè¯¥ç¯å¢ƒçš„ Python ç‰ˆæœ¬ä¸º 2.7ã€‚</p>

<p>ğŸ€ æ¿€æ´»ç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda activate ./envs
</code></pre>

<p>âš½ï¸ é€€å‡ºç¯å¢ƒ</p>

<pre><code class="language-shell">$ conda deactivate
</code></pre>

<p>â¬ å®‰è£…ä¾èµ–</p>

<pre><code class="language-shell">$ conda install [package_name]
</code></pre>

<p>ä¸Šè¿°å‘½ä»¤ç”¨äºä¸ºæ­¤ç¯å¢ƒå®‰è£…å„ç§åŒ…ã€‚</p>

<pre><code class="language-shell">$ pip install [package_name]
</code></pre>

<p>æœ‰äº›åŒ… conda å®‰è£…ä¸äº†ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#using-pip-in-an-environment">pip</a> å®‰è£…ã€‚</p>

<blockquote>
<p><strong>Note</strong>: conda é›†æˆäº† pipï¼Œæ‰€ä»¥åœ¨ conda ç¯å¢ƒä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ pip å‘½ä»¤ã€‚åœ¨ conda ç¯å¢ƒä¸‹ï¼Œè¯•è¯• <code>pip list</code> æ¥åŠ æ·±å°è±¡å§ï½</p>
</blockquote>

<p>ğŸš® ç§»é™¤ç¯å¢ƒ</p>

<pre><code class="language-shell">$ rm -rf ./envs
</code></pre>

<p>æ³¨æ„ï¼Œ<code>rm -rf</code> æ˜¯ä¸€ä¸ªæå…¶å±é™©çš„å‘½ä»¤ï¼Œä½¿ç”¨æ—¶è¯·åŠ¡å¿…å°å¿ƒã€‚</p>

<h3 id="2-virtualenv">2. Virtualenv</h3>

<blockquote>
<p><strong>Note</strong>: å»ºè®®ç”¨ conda æ›¿ä»£ Virtualenv æ­å»ºè™šæ‹Ÿç¯å¢ƒï¼Œä½¿ç”¨ Virtualenv æ˜¯ä¸€ç§ oldstyle çš„åšæ³•ã€‚</p>
</blockquote>

<p>Virtualenv ç”¨äºä¸º Python é¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚</p>

<p>ä½œä¸ºä¸€é—¨åŠ¨æ€è¯­è¨€ï¼ŒPython ç¨‹åºèƒ½å¦æ­£ç¡®è¿è¡Œå’Œç¯å¢ƒé…ç½®å¯†åˆ‡ç›¸å…³ã€‚å½“æˆ‘ä»¬ä¸‹è½½å¥½ä¸€ä¸ª Python é¡¹ç›®ä»£ç ï¼Œé€šå¸¸éœ€è¦å…ˆé…ç½®ç¯å¢ƒï¼Œç„¶åæ‰èƒ½è¿è¡Œã€‚ä¸ºäº†é˜²æ­¢è¿™ä¸ªå¤–æ¥çš„ Python é¡¹ç›®æ±¡æŸ“æˆ‘ä»¬çš„å…¨å±€ç¯å¢ƒ(global environment)ï¼Œæˆ‘ä»¬åº”è¯¥ä¸ºå®ƒé…ç½®ç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚è¿™æ—¶ Virtualenv å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>

<p>åœ¨ Virtualenv åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šç‰¹å®šçš„åº“ç‰ˆæœ¬ç”šè‡³Pythonç‰ˆæœ¬ï¼Œè€Œä¸å½±å“å…¨å±€ç¯å¢ƒã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸º Virtualenv ä¾èµ–äºå…¨å±€ç¯å¢ƒï¼Œå› æ­¤å¦‚æœä½ æ›´æ–°äº† Python å…¨å±€ç¯å¢ƒï¼Œæœ‰å¯èƒ½å¯¹ Virtualenv é€ æˆå½±å“ã€‚</p>

<p>æ›´å¤šç»†èŠ‚å‚è§ <a href="https://docs.python.org/3/library/venv.html">Virtualenv æ–‡æ¡£</a>ã€‚</p>

<!-- > æ³¨ï¼šä»¥ä¸‹æ•™ç¨‹é€‚ç”¨äº MacOSã€‚ -->

<p>å¦‚æœä½ è¿˜æ²¡æœ‰ Virtualenvï¼Œæ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œä¸‹è½½ä¸€ä¸ªã€‚</p>

<pre><code class="language-shell">$ pip install virtualenv
</code></pre>

<p>å®‰è£…å¥½ä¹‹åï¼Œå¦‚æœä½ æƒ³åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p>

<pre><code class="language-shell">$ virtualenv my_project  # my_project å¯æ›¿æ¢ä¸ºä½ é¡¹ç›®çš„åç§°
</code></pre>

<blockquote>
<p><strong>Note</strong>: å¦‚æœéœ€è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ Pythonï¼Œå¯ä½¿ç”¨ <code>-p</code> é€‰é¡¹æŒ‡å®š Python ç‰ˆæœ¬ã€‚</p>

<pre><code class="language-shell">$ virtualenv -p /usr/bin/python2.6 my_project
</code></pre>
</blockquote>

<p>ç”¨ <code>ls</code> å‘½ä»¤æ£€æŸ¥ï¼Œä½ å¯ä»¥å‘ç°å½“å‰ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>my_project</code> çš„æ–‡ä»¶å¤¹ã€‚ä½†è™šæ‹Ÿç¯å¢ƒä»…ä»…æ˜¯è¢«åˆ›å»ºï¼Œè¦æ¿€æ´»è¯¥ç¯å¢ƒï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>

<pre><code class="language-shell">$ source my_project/bin/activate
</code></pre>

<p>æ¿€æ´»å®Œä»¥åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯çœ‹å½“å‰çš„ Python è·¯å¾„ï¼š</p>

<pre><code class="language-shell">$ which Python
</code></pre>

<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯æŸ¥çœ‹å½“å‰çš„ pip è·¯å¾„ï¼š</p>

<pre><code class="language-shell">$ which pip
</code></pre>

<p>å¦‚æœä½ çš„è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸäº†ï¼Œé‚£ä¹ˆè·¯å¾„åº”å½“ä¼šå˜æ›´åˆ°è™šæ‹Ÿç¯å¢ƒç›®å½•ä¸‹ã€‚</p>

<p>ä½¿ç”¨å‘½ä»¤</p>

<pre><code class="language-shell">$ pip list
</code></pre>

<p>å¯æŸ¥çœ‹å½“å‰ pip å®‰è£…çš„æ‰€æœ‰åŒ…ã€‚ä½ ä¼šå‘ç°å½“å‰ç¯å¢ƒä¸‹ä»…ä»…åªå‰©å°‘æ•°å‡ ä¸ªåŒ…ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç¯å¢ƒã€‚ç°åœ¨ä½ å¯ä»¥åœ¨è¿™ä¸ªæ–°ç¯å¢ƒä¸‹é…ç½®é¡¹ç›®æ‰€éœ€çš„åº“ç‰ˆæœ¬äº†ï¼</p>

<p><font color="#0284c5">&mdash;&mdash; ç–¯ç‹‚ pip install çš„åˆ†å‰²çº¿ &mdash;&mdash;</font></p>

<p>åœ¨ä¸ºä½ çš„é¡¹ç›®å®‰è£…å®Œä¸€ç³»åˆ—åº“ä¾èµ–ä¹‹åï¼Œä½ å¯èƒ½æƒ³è®°å½•å½“å‰çš„ç¯å¢ƒé…ç½®ï¼Œä½¿ç”¨ pip çš„ freeze å‘½ä»¤å¯ä»¥å¸®ä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>

<pre><code class="language-shell">$ pip freeze --local &gt; requirements.txt
</code></pre>

<p>è¿™å°†æŠŠå½“å‰å·²å®‰è£…çš„åº“å’Œå¯¹åº”åº“ç‰ˆæœ¬è®°å½•åœ¨å½“å‰ç›®å½•ä¸‹çš„ <code>requirements.txt</code> æ–‡ä»¶ä¸­ã€‚</p>

<blockquote>
<p><strong>Note</strong>: åœ¨å°†æ¥æ„å»ºæ–°ç¯å¢ƒæ—¶ï¼Œåªè¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥ç§»æ¤è¯¥ txt æ–‡ä»¶æŒ‡å®šçš„ç¯å¢ƒé…ç½®ã€‚</p>

<pre><code>$ pip install -r requirements.txt
</code></pre>
</blockquote>

<p>æœ€åï¼Œå½“ä½ æƒ³é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼Œå›åˆ°å…¨å±€ç¯å¢ƒæ—¶ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>

<pre><code class="language-shell">$ deactivate
</code></pre>

<p>é€šè¿‡ <code>which Python</code> æˆ–è€… <code>which pip</code> æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å›åˆ°äº†å…¨å±€ç¯å¢ƒå§ï½</p>

<p><br/></p>

<h2 id="ä»£ç é£æ ¼">ä»£ç é£æ ¼</h2>

<blockquote>
<p>å¼•è¨€ï¼šä¸ºä»€ä¹ˆå·¥ç¨‹åŒ– Python éœ€è¦é‡è§†ä»£ç é£æ ¼ï¼Ÿ</p>

<ol>
<li>æŒ‰æŸç§çº¦å®šé£æ ¼å†™ä»£ç ï¼Œå¯ä»¥è®©å›¢é˜Ÿé¡¹ç›®çš„é£æ ¼æ›´ç»Ÿä¸€ï¼Œæœ‰åˆ©äºå›¢é˜Ÿæˆå‘˜é—´äº¤æ¥å·¥ä½œã€‚</li>
<li>å·¥ç¨‹é¡¹ç›®é€šå¸¸ä»£ç é‡è¾ƒå¤§ã€‚éšç€ä»£ç é‡çš„å¢åŠ ï¼Œdebug å˜å¾—æ„ˆå‘å›°éš¾ã€‚æŒ‰çº¦å®šå¥½çš„é£æ ¼å†™ä»£ç ï¼Œèƒ½æœ‰æ•ˆé¢„é˜²ä»£ç å‘ç”Ÿæœªé¢„æœŸçš„é”™è¯¯ã€‚</li>
</ol>
</blockquote>

<p>å»ºè®®é€šè¿‡ <a href="http://google.github.io/styleguide/pyguide.html"><em>Google Python Style Guide</em></a> å­¦ä¹ ä»£ç é£æ ¼ï¼Œè¯¥æŒ‡å—éå¸¸ä¸­è‚¯åœ°æå‡ºäº†æ¯é¡¹å»ºè®®çš„ä¼˜ç¼ºç‚¹ä»¥åŠä¾‹å¤–çš„æƒ…å†µã€‚</p>

<p>ä¸‹é¢åˆ—å‡ æ¡æˆ‘è®¤ä¸ºé‡è¦çš„ä»£ç é£æ ¼å»ºè®®ï¼š</p>

<h3 id="1-docstrings">1. Docstrings</h3>

<p>docstring æ˜¯ Python ä¸ºæ¨¡å—ã€ç±»ã€å‡½æ•°ä¹¦å†™å¸®åŠ©æ–‡æ¡£çš„ä¸€ç§æ–¹æ³•ã€‚æŒ‰çº¦å®šï¼Œå†™åœ¨æ¨¡å—ã€ç±»ã€å‡½æ•°ä¹‹ä¸‹çš„ç¬¬ä¸€æ¡å£°æ˜å°±æ˜¯ docstring.</p>

<pre><code class="language-python">def foo():
    &quot;&quot;&quot;docstring here.&quot;&quot;&quot;
    pass
</code></pre>

<p>å¯ä»¥é€šè¿‡å¯¹è±¡çš„<code>__doc__</code>æˆå‘˜æŸ¥çœ‹è¯¥å¯¹è±¡çš„ docstringã€‚å‡å¦‚ä½ å·²ç»ä¸ºå‡½æ•°<code>foo()</code>å†™å¥½äº† docstringï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å®ƒã€‚</p>

<pre><code class="language-python">print(foo.__doc__)
</code></pre>

<p>å…³äºä¹¦å†™docstringçš„å…·ä½“è§„èŒƒï¼Œè¯·å‚è§ <a href="http://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>ï¼Œè¿™é‡Œå°±ä¸è¿‡åˆ†æ‹¾äººç‰™æ…§äº†ã€‚</p>

<h3 id="2-none-çš„åˆ¤æ–­">2. None çš„åˆ¤æ–­</h3>

<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œè¯·ä½¿ç”¨ <code>if foo is None</code> (æˆ–è€… <code>if foo is not None</code> ). é¿å…ä½¿ç”¨ <code>==</code> åˆ¤æ–­ã€‚</p>

<p>ä¸ºä»€ä¹ˆè¿™é‡Œè¦ç”¨ <code>is</code> å‘¢ï¼Ÿä¸‹é¢æ˜¯ <em>Fluent Python</em> ä¸€ä¹¦ä¸­çš„è§£é‡Šï¼š</p>

<blockquote>
<p>The <code>==</code> operator compares the values of objects (the data they hold), while is compares their identities.</p>

<p>We often care about values and not identities, so == appears more frequently than is in Python code.</p>

<p>However, if you are comparing a variable to a singleton, then it makes sense to use is. By far, the most common case is checking whether a variable is bound to None. This is the recommended way to do it:</p>

<p><code>x is None</code></p>

<p>And the proper way to write its negation is:</p>

<p><code>x is not None</code></p>

<p>The <code>is</code> operator is faster than <code>==</code>, because it cannot be overloaded, so Python does not have to find and invoke special methods to evaluate it, and computing is as simple as comparing two integer IDs. In contrast, <code>a == b</code> is syntactic sugar for <code>a.__eq__(b)</code>. The <code>__eq__</code> method inherited from object compares object IDs, so it produces the same result as is. But most built-in types override <code>__eq__</code> with more meaningful implementations that actually take into account the values of the object attributes. Equality may involve a lot of processing â€”- for example, when comparing large collections or deeply nested structures.</p>

<p>æ‘˜è‡ª <em>Fluent Python</em> CHAPTER 8</p>
</blockquote>

<p>æ€»ç»“æ¥è¯´å°±æ˜¯ï¼Œè™½ç„¶ <code>==</code> å’Œ <code>is</code> çš„è¿ç®—ç»“æœç›¸åŒï¼Œä½† <code>==</code> å…¶å®æ˜¯ <code>__eq__</code> çš„è¯­æ³•ç³–ï¼Œè€Œ <code>__eq__</code> åœ¨å®é™…è°ƒç”¨ä¸­ç»å¸¸è¢«é‡è½½ï¼Œå¯¼è‡´ç¨‹åºè¿›å…¥ä¸€ç³»åˆ—ç¹ççš„æ­¥éª¤ä¸­ã€‚è€Œ <code>is</code> åˆ™ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„æ•´æ•°IDå¾—å‡ºç»“æœï¼Œæ‰€ä»¥æ¯” <code>==</code> æ•ˆç‡æ›´é«˜ã€‚</p>

<h3 id="3-å‘½å">3. å‘½å</h3>

<!-- # è¿™é‡Œè¿˜æœ‰ä¸œè¥¿è¦å†™ -->

<p>å‘½åè§„èŒƒè§ä¸‹è¡¨ï¼š</p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Public</th>
<th>Internal</th>
</tr>
</thead>

<tbody>
<tr>
<td>Packages</td>
<td>lower_with_under</td>
<td></td>
</tr>

<tr>
<td>Modules</td>
<td>lower_with_under</td>
<td>_lower_with_under</td>
</tr>

<tr>
<td>Classes</td>
<td>CapWords</td>
<td>_CapWords</td>
</tr>

<tr>
<td>Exceptions</td>
<td>CapWords</td>
<td></td>
</tr>

<tr>
<td>Functions</td>
<td>lower_with_under()</td>
<td>_lower_with_under()</td>
</tr>

<tr>
<td>Global/Class Constants</td>
<td>CAPS_WITH_UNDER</td>
<td>_CAPS_WITH_UNDER</td>
</tr>

<tr>
<td>Global/Class Variables</td>
<td>lower_with_under</td>
<td>_lower_with_under</td>
</tr>

<tr>
<td>Instance Variables</td>
<td>lower_with_under</td>
<td>_lower_with_under (protected)</td>
</tr>

<tr>
<td>Method Names</td>
<td>lower_with_under()</td>
<td>_lower_with_under() (protected)</td>
</tr>

<tr>
<td>Function/Method Parameters</td>
<td>lower_with_under</td>
<td></td>
</tr>

<tr>
<td>Local Variables</td>
<td>lower_with_under</td>
<td></td>
</tr>
</tbody>
</table>

<p>æ‘˜è‡ª Google Python Style Guide</p>

<p><br/></p>

<p># æ–½å·¥ä¸­&hellip;æœªå®Œå¾…ç»­</p>

<!-- ## å•å…ƒæµ‹è¯• -->

<!-- ## è®¾è®¡æ¨¡å¼ -->

<p>å‚è€ƒï¼š</p>

<ol>
<li><a href="https://www.youtube.com/watch?v=N5vscPTWKOk">Python Tutorial: virtualenv and why you should use virtual environments</a></li>
<li><a href="http://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a></li>
<li><a href="https://github.com/zh-google-styleguide/zh-google-styleguide">Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å— (ä¸­æ–‡ç‰ˆ)</a></li>
</ol>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/algorithms/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">ç®—æ³•é›†èƒ</span>
    </a>
    
    
</div>


  

  
    


</article>

<style>
  .my-emoji {
    height: 25px;
    display: inline-block;
    margin: 0;
    vertical-align: text-bottom;
  }
</style>


        </div>
        
    <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>



<script defer src="/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>

    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    






    



    </body>
</html>
